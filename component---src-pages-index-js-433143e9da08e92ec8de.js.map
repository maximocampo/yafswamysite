{"version":3,"sources":["webpack:///./src/images/3dgifmaker00496.gif","webpack:///./src/components/Home.js","webpack:///./src/pages/index.js","webpack:///./node_modules/turn.js/index.js"],"names":["module","exports","Home","useState","contact","setContact","text","setText","t","useContext","TransCtx","toggleContact","width","useWindowSize","useEffect","a","firebase","firestore","collection","doc","lang","get","thing","data","home","onClick","style","position","top","left","height","display","alignItems","justifyContent","zIndex","border","backgroundColor","color","padding","pointerEvents","href","flexDirection","Text","marginTop","className","index","desc","window","location","assign","textDecoration","cursor","hover","p1","p2","p3","p4","marginLeft","src","Gif","alt","fontFamily","fontSize","footer","music","email","bounds","backgroundRepeat","backgroundSize","backgroundImage","IndexPage","has3d","hasRot","$","vendor","PI","Math","A90","isTouch","mouseEvents","down","move","up","over","out","corners","backward","forward","all","displays","directions","turnOptions","acceleration","duration","page","gradients","turnCorners","when","flipOptions","cornerSize","turnMethods","init","options","parts","document","body","exec","navigator","userAgent","parseFloat","getPrefix","i","pageNum","this","ch","children","extend","direction","attr","css","opts","pageObjs","pages","pageWrap","pageZoom","pagePlace","pageMv","zoom","totalPages","eventHandlers","touchStart","proxy","_touchStart","touchMove","_touchMove","touchEnd","_touchEnd","start","_eventStart","has","bind","turn","transform","translate","length","_eventEnd","_eventPressed","_eventReleased","_flip","parent","done","addPage","element","currentPage","incPages","lastPage","destroying","parseInt","turnError","_movePages","call","addClass","indexOf","hasClass","removeClass","_addPage","_removeFromDOM","_necessPage","overflow","append","appendTo","prop","_pageSize","_makeFlip","remove","hasPage","center","size","noCenter","view","tpage","destroy","flipbook","trigger","each","eventName","unbind","fparent","shadow","removeData","is","newZoom","currentView","iz","newWidth","round","newHeight","autoCenter","_updateShadow","right","pageWidth","pageHeight","odd","single","flip","next","disabled","_setPageLoc","_makeRange","range","remainingPages","_view","floor","min","pagesInDOM","max","_removePageFromDOM","dd","flipMethods","_moveFoldingPage","f","fwrapper","_removeMv","removePage","_fitPage","from","change","that","_display","currentDisplay","undefined","inArray","dir","toLowerCase","animating","corner","disable","_disable","resize","splice","_addMv","push","stop","ignore","animate","force","_pages","_missing","p","missing","newView","_turnPage","current","place","optsCorners","split","flipData","actualPoint","point","effect","_page","pop","previous","shift","peel","_addMotionPage","e","actualZoom","isDefaultPrevented","charAt","target","turned","turnData","mouseAction","time","Date","getTime","outArea","x","preventDefault","stopPropagation","apply","arguments","_eventMove","calculateZ","mv","nextPage","placePage","dpage","total","r","pageZ","partZ","pageV","addView","abs","update","fixed","pos","actualView","pageLocation","view2","divAtt","loc","_options","version","_addPageWrapper","setData","d","z","_z","_cAllowed","_cornerActivated","y","csz","allowedCorners","_isIArea","offset","originalEvent","touches","pageX","pageY","_c","point2D","_c2","_foldingPage","_backGradient","gradient","bshadow","type","full","wrapper","fpage","ashadow","sqrt","pow","findPos","cssProperties","prepend","hide","flips","bottom","_fold","o","leftPos","gradientX","fpageOrigin","parentOrigin","parentCss","relX","angle","half","opacity","px","gradientEndPointA","gradientEndPointB","gradientStartVal","gradientSize","gradientOpacity","shadowVal","df","tr","folding","ac","tan","h","substr","compute","rel","middle","alpha","atan2","gamma","distance","sin","cos","beta","side","sideX","sideY","endingPoint","far","c","mvW","mvH","cssA","cssB","aliasingFk","origin","rotate","_showFoldedPage","visible","status","animatef","to","frame","v","turning","show","shadows","bshadowLoc","hideFoldedPage","delta","np","bezier","complete","hiding","turnPage","elevation","moving","isTurning","_disable2","_hover","dec","methods","args","Array","prototype","slice","overf","b","use3d","degrees","property","object","Object","hasOwnProperty","vendorPrefixes","len","obj","p0","colors","numColors","j","cols","join","dx","dy","angle2","diagonal","gradientDiagonal","slope","inverse","segA","context","event","Event","isPropagationStopped","message","TurnJsError","name","Error","constructor","offsetLeft","offsetTop","offsetParent","requestAnim","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","fn","_transform","properties","diff","easing","timeDiff","cssPrefix","cssTransitionEnd","el","createElement","transitions"],"mappings":"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","file":"component---src-pages-index-js-433143e9da08e92ec8de.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/3dgifmaker00496-6aa899304ff7290cf6e18884ddad84e0.gif\";","import './home.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"flip-book/css/font-awesome.min.css\";\nimport \"turn.js\";\nimport React, {useContext, useState, useEffect} from 'react';\nimport {TransCtx} from '../hooks/useTrans';\nimport Gif from '../images/3dgifmaker00496.gif'\nimport Draggable from \"react-draggable\";\nimport {useWindowSize} from \"../hooks/useWindowSize\";\nimport Text from \"./Text\";\nimport firebase from \"gatsby-plugin-firebase\"\n\nconst Home = () => {\n  const [contact, setContact] = useState(false);\n  const [text, setText] = useState({});\n  const {t} = useContext(TransCtx);\n  const toggleContact = () => setContact(!contact);\n  const {width} = useWindowSize()\n  \n  useEffect(() => {\n    (async () => {\n        //const thing6 = await firebase.firestore().collection('emails').get();\n        //const emails = thing6.docs.map(doc => doc.data().email);\n        //\n        //\n        //  function remove_duplicates(array_){\n        //      var ret_array = new Array();\n        //      for (var a = array_.length - 1; a >= 0; a--) {\n        //          for (var b = array_.length - 1; b >= 0; b--) {\n        //              if(array_[a] == array_[b] && a != b){\n        //                  delete array_[b];\n        //              }\n        //          };\n        //          if(array_[a] != undefined)\n        //              ret_array.push(array_[a]);\n        //      };\n        //      return ret_array;\n        //  }\n        const thing = await firebase.firestore().collection('content').doc(t.lang).get()\n        const {home} = thing.data()\n        \n        setText(home)\n    })()\n  }, [t.lang])\n  \n  return (\n    <>\n      {contact &&\n      <div\n        onClick={toggleContact}\n        style={{\n          position: 'fixed',\n          top: 0,\n          left:0,\n          height: '100vh',\n          width: '100vw',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}>\n        <div\n          style={{\n            border: '2px dashed white',\n            height: 135,\n            zIndex: 100,\n            width: 400,\n            backgroundColor: 'black',\n            color: 'white',\n            padding: 20,\n            pointerEvents: 'none'\n          }}>\n          <p>contact</p>\n          <p>\n              management / booking / inquiries:\n              <br/>\n              <a style={{pointerEvents: 'auto'}} href=\"mailto:yafswamy@gmail.com\">\n                  yafswamy@gmail.com\n              </a>\n          </p>\n        </div>\n      </div>\n      }\n    <div style={{\n      padding: 0,\n      width: '100vw',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    }}>\n      <Text left={47} style={{marginTop: 10}}>yaf swamy</Text>\n      <p className=\"home-text-1\">\n        <Text>{t.index.desc[0]}</Text>\n        {' '}\n        <Text\n          onClick={() => window.location.assign('https://goo.gl/maps/eg8XSccJ7WmyaFyr6')}\n          style={{textDecoration: 'underline', cursor: 'pointer'}}\n          hover={'#ff00ae'}\n        >\n          {t.index.desc[1]}\n        </Text>\n        {' '}\n        <Text>{t.index.desc[2]}</Text>\n        {' '}\n        <Text\n          onClick={() => window.location.assign('https://i1.wp.com/milimagenesdecumple.com/wp-content/uploads/2014/08/felicidades-dios-bendiga.jpg?w=462&ssl=1')}\n          style={{textDecoration: 'underline', cursor: 'pointer'}}\n          hover={'#ff00ae'}\n        >\n          {t.index.desc[3]}\n        </Text>\n      </p>\n      <Text\n        className=\"home-text-2\"\n        left={width > 840 ? 12 : null}\n        top={width > 840 ? \"160px\" : null}\n        width={width > 840 ? 400 : null}>{[text.p1]}</Text>\n      <Text\n        className=\"home-text-2\"\n        left={width > 840 ? 8 : null}\n        top={width > 840 ? \"402px\" : null}\n        width={width > 840 ? 300:null}>{[text.p2]}</Text>\n      <Text\n        className=\"home-text-2\"\n        top={width > 840 ? \"550px\" : null}\n        left={width > 840 ? 10 : null}\n        width={width > 840 ? \"300px\":null}>{[text.p3]}</Text>\n      <Text\n        className=\"home-text-2\"\n        left={width > 840 ? 12 : null}\n        top={width > 840 ? \"640px\" : null}\n        width={width > 840 ? 300 :null}>{[text.p4]}</Text>\n  \n      <div style={{\n        position: width > 840 ? 'absolute' : 'static',\n        display: 'flex',\n        top: width > 840 ? '35vh' : 800,\n        left: '50vw' ,\n        justifyContent: 'center',\n        marginLeft: width > 840 ? -170 : 0,\n        alignItems: 'center',\n        cursor:'pointer',\n        width: '100',\n        zIndex: 10\n      }}>\n        <img width={350} height={350} src={Gif} alt=\"\" onClick={() => window.location.assign('https://yafswamy.bandcamp.com/')}/>\n      </div>\n      \n      <div style={{position: 'relative', marginTop: width > 840 ? -90 : -160, marginLeft: width > 840 ? 0 : -200, width: '100vw'}}>\n        <Text\n        onClick={() => window.location.assign('https://www.instagram.com/yafswamy/')}\n        left={60}\n        top=\"190px\"\n        style={{fontFamily: 'Business', fontSize: 20, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n      >\n        INSTAGRAM\n      </Text>\n      <Text\n        onClick={() => window.location.assign('https://www.facebook.com/yafswamy/')}\n        left={74}\n        top=\"260px\"\n        style={{fontFamily: 'Business', fontSize: 20, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n      >\n        FACEBOOK\n      </Text>\n      <Text\n        onClick={() => window.location.assign('https://www.youtube.com/channel/UCO1wuw0U7DePxVNb4B15rIw')}\n        left={64}\n        top=\"360px\"\n        style={{fontFamily: 'Business', fontSize: 20, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n      >\n        YOUTUBE\n      </Text>\n      <Text\n        onClick={() => window.location.assign('https://yafswamy.bandcamp.com/')}\n        left={62}\n        top=\"410px\"\n        style={{fontFamily: 'Business', fontSize: 20, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n      >\n        BANDCAMP\n      </Text>\n      <Text\n        left={82}\n        top=\"500px\"\n        style={{fontFamily: 'Business', fontSize: 20, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n        onClick={() => window.location.assign('/musicaca')}\n      >\n        {t.footer.music}\n      </Text>\n      <Text\n        left={70}\n        top=\"570px\"\n        style={{fontFamily: 'Business', fontSize: 30, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n        onClick={toggleContact}\n      >\n        {t.footer.contact}\n      </Text>\n      <Text\n        left={60}\n        top=\"630px\"\n        style={{fontFamily: 'Business', fontSize: 30, textDecoration: 'underline', cursor: 'pointer'}}\n        hover={'#ff00ae'}\n        onClick={() => window.location.assign('/dametumail')}\n      >\n        {t.footer.email}\n      </Text>\n      </div>\n      <div style={{position: 'absolute'}}>\n      <div style={{width: '100vw', height: width > 840 ? 1400 : 2000}}>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '84vh' : 654 * 2.5, left: '4vw',\n              width: width > 840 ? 225 * 1.5 : 225 / 2,\n              height: width > 840 ? 400 * 1.5 : 400 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=1jfej9oSnoKhSNpsKL1nkWckZRxGulJYA)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '80vh' : 650 * 2.5, left: '19vw',\n              width: width > 840 ? 200 * 1.5 : 200 / 2,\n              height: width > 840 ? 134 * 1.5 : 134 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=19R0l7jeT3VcGYXH5VCbSyOVsAycV1oPk)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '90vh' : 660 * 2.5, left: '30vw',\n              width: width > 840 ? 226 * 1.5 : 226 / 2,\n              height: width > 840 ? 400 * 1.5 : 400 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=1xSQbdZRbUJKv4eMUV9Qm1BC52WC0jmf-)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '97vh' : 667 * 2.5, left: '52vw',\n              width: width > 840 ? 214 * 1.5 : 214 / 2,\n              height: width > 840 ? 120 * 1.5 : 120 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=1hW0er4DTadxFZnDINMqh7WyCQwaaKOE5)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '90vh' : 650 * 2.5, left: '54vw',\n              width: width > 840 ? 302 * 1.5 : 302 / 2,\n              height: width > 840 ? 140 * 1.5 : 140 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=1bS83RPFULEjS73TixOScbFF5bW-aIdv-)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '120vh' : 690 * 2.6, left: '42vw',\n              width: width > 840 ? 302 * 1.5 : 302 / 2,\n              height: width > 840 ? 170 * 1.5 : 170 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=112UO7FqFH1WF4rdKBECB3UGwclI1K3e5)'\n            }}\n          />\n        </Draggable>\n        <Draggable bounds=\"parent\">\n          <div\n            style={{\n              position: 'absolute', top: width > 840 ? '120vh' : 690 * 2.5, left: '40vw',\n              height: width > 840 ? 170 * 1.5 : 170 / 2,\n              width: width > 840 ? 248 * 1.5 : 248 / 2,\n              cursor: 'grab',\n              backgroundRepeat: 'no-repeat',\n              backgroundSize: 'contain',\n              backgroundImage: 'url(https://drive.google.com/uc?export=view&id=1sjEhj_9sK7_5Z9akxXrbBcJF3WyZmjxs)'\n            }}\n          />\n        </Draggable>\n      </div>\n      </div>\n    </div>\n      </>\n  );\n};\n\nexport default Home;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport \"flip-book/css/font-awesome.min.css\"\nimport React from \"react\"\nimport Home from \"../components/Home\";\n\nconst IndexPage = () => {\n  return (\n      <Home />\n  )\n};\n\nexport default IndexPage\n","var $ = require('jquery');\n\nvar has3d,\n    hasRot,\n    vendor = '',\n    _version = '4.1.0',\n    PI = Math.PI,\n    A90 = PI / 2,\n    isTouch = ('ontouchstart' in window),\n    mouseEvents = isTouch ? {\n  down: 'touchstart',\n  move: 'touchmove',\n  up: 'touchend',\n  over: 'touchstart',\n  out: 'touchend'\n} : {\n  down: 'mousedown',\n  move: 'mousemove',\n  up: 'mouseup',\n  over: 'mouseover',\n  out: 'mouseout'\n},\n    // Contansts used for each corner\n//   | tl * tr |\n// l | *     * | r\n//   | bl * br |\ncorners = {\n  backward: ['bl', 'tl'],\n  forward: ['br', 'tr'],\n  all: ['tl', 'bl', 'tr', 'br', 'l', 'r']\n},\n    // Display values\ndisplays = ['single', 'double'],\n    // Direction values\ndirections = ['ltr', 'rtl'],\n    // Default options\nturnOptions = {\n  // Enables hardware acceleration\n  acceleration: true,\n  // Display\n  display: 'double',\n  // Duration of transition in milliseconds\n  duration: 600,\n  // First page\n  page: 1,\n  // Enables gradients\n  gradients: true,\n  // Corners used when turning the page\n  turnCorners: 'bl,br',\n  // Events\n  when: null\n},\n    flipOptions = {\n  // Size of the active zone of each corner\n  cornerSize: 100\n},\n    // Number of pages in the DOM, minimum value: 6\npagesInDOM = 6,\n    turnMethods = {\n  // Singleton constructor\n  // $('#selector').turn([options]);\n  init: function init(options) {\n    // Define constants\n    has3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\n    hasRot = rotationAvailable();\n    vendor = getPrefix();\n    var i,\n        that = this,\n        pageNum = 0,\n        data = this.data(),\n        ch = this.children(); // Set initial configuration\n\n    options = $.extend({\n      width: this.width(),\n      height: this.height(),\n      direction: this.attr('dir') || this.css('direction') || 'ltr'\n    }, turnOptions, options);\n    data.opts = options;\n    data.pageObjs = {};\n    data.pages = {};\n    data.pageWrap = {};\n    data.pageZoom = {};\n    data.pagePlace = {};\n    data.pageMv = [];\n    data.zoom = 1;\n    data.totalPages = options.pages || 0;\n    data.eventHandlers = {\n      touchStart: $.proxy(turnMethods._touchStart, this),\n      touchMove: $.proxy(turnMethods._touchMove, this),\n      touchEnd: $.proxy(turnMethods._touchEnd, this),\n      start: $.proxy(turnMethods._eventStart, this)\n    }; // Add event listeners\n\n    if (options.when) for (i in options.when) {\n      if (has(i, options.when)) this.bind(i, options.when[i]);\n    } // Set the css\n\n    this.css({\n      position: 'relative',\n      width: options.width,\n      height: options.height\n    }); // Set the initial display\n\n    this.turn('display', options.display); // Set the direction\n\n    if (options.direction !== '') this.turn('direction', options.direction); // Prevent blue screen problems of switching to hardware acceleration mode\n    // By forcing hardware acceleration for ever\n\n    if (has3d && !isTouch && options.acceleration) this.transform(translate(0, 0, true)); // Add pages from the DOM\n\n    for (i = 0; i < ch.length; i++) {\n      if ($(ch[i]).attr('ignore') != '1') {\n        this.turn('addPage', ch[i], ++pageNum);\n      }\n    } // Event listeners\n\n\n    $(this).bind(mouseEvents.down, data.eventHandlers.touchStart).bind('end', turnMethods._eventEnd).bind('pressed', turnMethods._eventPressed).bind('released', turnMethods._eventReleased).bind('flip', turnMethods._flip);\n    $(this).parent().bind('start', data.eventHandlers.start);\n    $(document).bind(mouseEvents.move, data.eventHandlers.touchMove).bind(mouseEvents.up, data.eventHandlers.touchEnd); // Set the initial page\n\n    this.turn('page', options.page); // This flipbook is ready\n\n    data.done = true;\n    return this;\n  },\n  // Adds a page from external data\n  addPage: function addPage(element, page) {\n    var currentPage,\n        className,\n        incPages = false,\n        data = this.data(),\n        lastPage = data.totalPages + 1;\n    if (data.destroying) return false; // Read the page number from the className of `element` - format: p[0-9]+\n\n    if (currentPage = /\\bp([0-9]+)\\b/.exec($(element).attr('class'))) page = parseInt(currentPage[1], 10);\n\n    if (page) {\n      if (page == lastPage) incPages = true;else if (page > lastPage) throw turnError('Page \"' + page + '\" cannot be inserted');\n    } else {\n      page = lastPage;\n      incPages = true;\n    }\n\n    if (page >= 1 && page <= lastPage) {\n      if (data.display == 'double') className = page % 2 ? ' odd' : ' even';else className = ''; // Stop animations\n\n      if (data.done) this.turn('stop'); // Move pages if it's necessary\n\n      if (page in data.pageObjs) turnMethods._movePages.call(this, page, 1); // Increase the number of pages\n\n      if (incPages) data.totalPages = lastPage; // Add element\n\n      data.pageObjs[page] = $(element).css({\n        'float': 'left'\n      }).addClass('page p' + page + className);\n\n      if (!hasHardPage() && data.pageObjs[page].hasClass('hard')) {\n        data.pageObjs[page].removeClass('hard');\n      } // Add page\n\n\n      turnMethods._addPage.call(this, page); // Remove pages out of range\n\n\n      turnMethods._removeFromDOM.call(this);\n    }\n\n    return this;\n  },\n  // Adds a page\n  _addPage: function _addPage(page) {\n    var data = this.data(),\n        element = data.pageObjs[page];\n    if (element) if (turnMethods._necessPage.call(this, page)) {\n      if (!data.pageWrap[page]) {\n        // Wrapper\n        data.pageWrap[page] = $('<div/>', {\n          'class': 'page-wrapper',\n          page: page,\n          css: {\n            position: 'absolute',\n            overflow: 'hidden'\n          }\n        }); // Append to this flipbook\n\n        this.append(data.pageWrap[page]);\n\n        if (!data.pagePlace[page]) {\n          data.pagePlace[page] = page; // Move `pageObjs[page]` to wrapper\n\n          data.pageObjs[page].appendTo(data.pageWrap[page]);\n        } // Set the size of the page\n\n\n        var prop = turnMethods._pageSize.call(this, page, true);\n\n        element.css({\n          width: prop.width,\n          height: prop.height\n        });\n        data.pageWrap[page].css(prop);\n      }\n\n      if (data.pagePlace[page] == page) {\n        // If the page isn't in another place, create the flip effect\n        turnMethods._makeFlip.call(this, page);\n      }\n    } else {\n      // Place\n      data.pagePlace[page] = 0; // Remove element from the DOM\n\n      if (data.pageObjs[page]) data.pageObjs[page].remove();\n    }\n  },\n  // Checks if a page is in memory\n  hasPage: function hasPage(page) {\n    return has(page, this.data().pageObjs);\n  },\n  // Centers the flipbook\n  center: function center(page) {\n    var data = this.data(),\n        size = $(this).turn('size'),\n        left = 0;\n\n    if (!data.noCenter) {\n      if (data.display == 'double') {\n        var view = this.turn('view', page || data.tpage || data.page);\n\n        if (data.direction == 'ltr') {\n          if (!view[0]) left -= size.width / 4;else if (!view[1]) left += size.width / 4;\n        } else {\n          if (!view[0]) left += size.width / 4;else if (!view[1]) left -= size.width / 4;\n        }\n      }\n\n      $(this).css({\n        marginLeft: left\n      });\n    }\n\n    return this;\n  },\n  // Destroys the flipbook\n  destroy: function destroy() {\n    var page,\n        flipbook = this,\n        data = this.data(),\n        events = ['end', 'first', 'flip', 'last', 'pressed', 'released', 'start', 'turning', 'turned', 'zooming', 'missing'];\n    if (trigger('destroying', this) == 'prevented') return;\n    data.destroying = true;\n    $.each(events, function (index, eventName) {\n      flipbook.unbind(eventName);\n    });\n    this.parent().unbind('start', data.eventHandlers.start);\n    $(document).unbind(mouseEvents.move, data.eventHandlers.touchMove).unbind(mouseEvents.up, data.eventHandlers.touchEnd);\n\n    while (data.totalPages !== 0) {\n      this.turn('removePage', data.totalPages);\n    }\n\n    if (data.fparent) data.fparent.remove();\n    if (data.shadow) data.shadow.remove();\n    this.removeData();\n    data = null;\n    return this;\n  },\n  // Checks if this element is a flipbook\n  is: function is() {\n    return typeof this.data().pages == 'object';\n  },\n  // Sets and gets the zoom value\n  zoom: function zoom(newZoom) {\n    var data = this.data();\n\n    if (typeof newZoom == 'number') {\n      if (newZoom < 0.001 || newZoom > 100) throw turnError(newZoom + ' is not a value for zoom');\n      if (trigger('zooming', this, [newZoom, data.zoom]) == 'prevented') return this;\n      var size = this.turn('size'),\n          currentView = this.turn('view'),\n          iz = 1 / data.zoom,\n          newWidth = Math.round(size.width * iz * newZoom),\n          newHeight = Math.round(size.height * iz * newZoom);\n      data.zoom = newZoom;\n      $(this).turn('stop').turn('size', newWidth, newHeight);\n      /*.\n      css({marginTop: size.height * iz / 2 - newHeight / 2});*/\n\n      if (data.opts.autoCenter) this.turn('center');\n      /*else\n        $(this).css({marginLeft: size.width * iz / 2 - newWidth / 2});*/\n\n      turnMethods._updateShadow.call(this);\n\n      for (var i = 0; i < currentView.length; i++) {\n        if (currentView[i] && data.pageZoom[currentView[i]] != data.zoom) {\n          this.trigger('zoomed', [currentView[i], currentView, data.pageZoom[currentView[i]], data.zoom]);\n          data.pageZoom[currentView[i]] = data.zoom;\n        }\n      }\n\n      return this;\n    } else return data.zoom;\n  },\n  // Gets the size of a page\n  _pageSize: function _pageSize(page, position) {\n    var data = this.data(),\n        prop = {};\n\n    if (data.display == 'single') {\n      prop.width = this.width();\n      prop.height = this.height();\n\n      if (position) {\n        prop.top = 0;\n        prop.left = 0;\n        prop.right = 'auto';\n      }\n    } else {\n      var pageWidth = this.width() / 2,\n          pageHeight = this.height();\n\n      if (data.pageObjs[page].hasClass('own-size')) {\n        prop.width = data.pageObjs[page].width();\n        prop.height = data.pageObjs[page].height();\n      } else {\n        prop.width = pageWidth;\n        prop.height = pageHeight;\n      }\n\n      if (position) {\n        var odd = page % 2;\n        prop.top = (pageHeight - prop.height) / 2;\n\n        if (data.direction == 'ltr') {\n          prop[odd ? 'right' : 'left'] = pageWidth - prop.width;\n          prop[odd ? 'left' : 'right'] = 'auto';\n        } else {\n          prop[odd ? 'left' : 'right'] = pageWidth - prop.width;\n          prop[odd ? 'right' : 'left'] = 'auto';\n        }\n      }\n    }\n\n    return prop;\n  },\n  // Prepares the flip effect for a page\n  _makeFlip: function _makeFlip(page) {\n    var data = this.data();\n\n    if (!data.pages[page] && data.pagePlace[page] == page) {\n      var single = data.display == 'single',\n          odd = page % 2;\n      data.pages[page] = data.pageObjs[page].css(turnMethods._pageSize.call(this, page)).flip({\n        page: page,\n        next: odd || single ? page + 1 : page - 1,\n        turn: this\n      }).flip('disable', data.disabled); // Issue about z-index\n\n      turnMethods._setPageLoc.call(this, page);\n\n      data.pageZoom[page] = data.zoom;\n    }\n\n    return data.pages[page];\n  },\n  // Makes pages within a range\n  _makeRange: function _makeRange() {\n    var page,\n        range,\n        data = this.data();\n    if (data.totalPages < 1) return;\n    range = this.turn('range');\n\n    for (page = range[0]; page <= range[1]; page++) {\n      turnMethods._addPage.call(this, page);\n    }\n  },\n  // Returns a range of pages that should be in the DOM\n  // Example:\n  // - page in the current view, return true\n  // * page is in the range, return true\n  // Otherwise, return false\n  //\n  // 1 2-3 4-5 6-7 8-9 10-11 12-13\n  //   **  **  --   **  **\n  range: function range(page) {\n    var remainingPages,\n        left,\n        right,\n        view,\n        data = this.data();\n    page = page || data.tpage || data.page || 1;\n    view = turnMethods._view.call(this, page);\n    if (page < 1 || page > data.totalPages) throw turnError('\"' + page + '\" is not a valid page');\n    view[1] = view[1] || view[0];\n\n    if (view[0] >= 1 && view[1] <= data.totalPages) {\n      remainingPages = Math.floor((pagesInDOM - 2) / 2);\n\n      if (data.totalPages - view[1] > view[0]) {\n        left = Math.min(view[0] - 1, remainingPages);\n        right = 2 * remainingPages - left;\n      } else {\n        right = Math.min(data.totalPages - view[1], remainingPages);\n        left = 2 * remainingPages - right;\n      }\n    } else {\n      left = pagesInDOM - 1;\n      right = pagesInDOM - 1;\n    }\n\n    return [Math.max(1, view[0] - left), Math.min(data.totalPages, view[1] + right)];\n  },\n  // Detects if a page is within the range of `pagesInDOM` from the current view\n  _necessPage: function _necessPage(page) {\n    if (page === 0) return true;\n    var range = this.turn('range');\n    return this.data().pageObjs[page].hasClass('fixed') || page >= range[0] && page <= range[1];\n  },\n  // Releases memory by removing pages from the DOM\n  _removeFromDOM: function _removeFromDOM() {\n    var page,\n        data = this.data();\n\n    for (page in data.pageWrap) {\n      if (has(page, data.pageWrap) && !turnMethods._necessPage.call(this, page)) turnMethods._removePageFromDOM.call(this, page);\n    }\n  },\n  // Removes a page from DOM and its internal references\n  _removePageFromDOM: function _removePageFromDOM(page) {\n    var data = this.data();\n\n    if (data.pages[page]) {\n      var dd = data.pages[page].data();\n\n      flipMethods._moveFoldingPage.call(data.pages[page], false);\n\n      if (dd.f && dd.f.fwrapper) dd.f.fwrapper.remove();\n      data.pages[page].removeData();\n      data.pages[page].remove();\n      delete data.pages[page];\n    }\n\n    if (data.pageObjs[page]) data.pageObjs[page].remove();\n\n    if (data.pageWrap[page]) {\n      data.pageWrap[page].remove();\n      delete data.pageWrap[page];\n    }\n\n    turnMethods._removeMv.call(this, page);\n\n    delete data.pagePlace[page];\n    delete data.pageZoom[page];\n  },\n  // Removes a page\n  removePage: function removePage(page) {\n    var data = this.data(); // Delete all the pages\n\n    if (page == '*') {\n      while (data.totalPages !== 0) {\n        this.turn('removePage', data.totalPages);\n      }\n    } else {\n      if (page < 1 || page > data.totalPages) throw turnError('The page ' + page + ' doesn\\'t exist');\n\n      if (data.pageObjs[page]) {\n        // Stop animations\n        this.turn('stop'); // Remove `page`\n\n        turnMethods._removePageFromDOM.call(this, page);\n\n        delete data.pageObjs[page];\n      } // Move the pages\n\n\n      turnMethods._movePages.call(this, page, -1); // Resize the size of this flipbook\n\n\n      data.totalPages = data.totalPages - 1; // Check the current view\n\n      if (data.page > data.totalPages) {\n        data.page = null;\n\n        turnMethods._fitPage.call(this, data.totalPages);\n      } else {\n        turnMethods._makeRange.call(this);\n\n        this.turn('update');\n      }\n    }\n\n    return this;\n  },\n  // Moves pages\n  _movePages: function _movePages(from, change) {\n    var page,\n        that = this,\n        data = this.data(),\n        single = data.display == 'single',\n        move = function move(page) {\n      var next = page + change,\n          odd = next % 2,\n          className = odd ? ' odd ' : ' even ';\n      if (data.pageObjs[page]) data.pageObjs[next] = data.pageObjs[page].removeClass('p' + page + ' odd even').addClass('p' + next + className);\n\n      if (data.pagePlace[page] && data.pageWrap[page]) {\n        data.pagePlace[next] = next;\n        if (data.pageObjs[next].hasClass('fixed')) data.pageWrap[next] = data.pageWrap[page].attr('page', next);else data.pageWrap[next] = data.pageWrap[page].css(turnMethods._pageSize.call(that, next, true)).attr('page', next);\n        if (data.pages[page]) data.pages[next] = data.pages[page].flip('options', {\n          page: next,\n          next: single || odd ? next + 1 : next - 1\n        });\n\n        if (change) {\n          delete data.pages[page];\n          delete data.pagePlace[page];\n          delete data.pageZoom[page];\n          delete data.pageObjs[page];\n          delete data.pageWrap[page];\n        }\n      }\n    };\n\n    if (change > 0) for (page = data.totalPages; page >= from; page--) {\n      move(page);\n    } else for (page = from; page <= data.totalPages; page++) {\n      move(page);\n    }\n  },\n  // Sets or Gets the display mode\n  display: function display(_display) {\n    var data = this.data(),\n        currentDisplay = data.display;\n\n    if (_display === undefined) {\n      return currentDisplay;\n    } else {\n      if ($.inArray(_display, displays) == -1) throw turnError('\"' + _display + '\" is not a value for display');\n\n      switch (_display) {\n        case 'single':\n          // Create a temporal page to use as folded page\n          if (!data.pageObjs[0]) {\n            this.turn('stop').css({\n              'overflow': 'hidden'\n            });\n            data.pageObjs[0] = $('<div />', {\n              'class': 'page p-temporal'\n            }).css({\n              width: this.width(),\n              height: this.height()\n            }).appendTo(this);\n          }\n\n          this.addClass('shadow');\n          break;\n\n        case 'double':\n          // Remove the temporal page\n          if (data.pageObjs[0]) {\n            this.turn('stop').css({\n              'overflow': ''\n            });\n            data.pageObjs[0].remove();\n            delete data.pageObjs[0];\n          }\n\n          this.removeClass('shadow');\n          break;\n      }\n\n      data.display = _display;\n\n      if (currentDisplay) {\n        var size = this.turn('size');\n\n        turnMethods._movePages.call(this, 1, 0);\n\n        this.turn('size', size.width, size.height).turn('update');\n      }\n\n      return this;\n    }\n  },\n  // Gets and sets the direction of the flipbook\n  direction: function direction(dir) {\n    var data = this.data();\n\n    if (dir === undefined) {\n      return data.direction;\n    } else {\n      dir = dir.toLowerCase();\n      if ($.inArray(dir, directions) == -1) throw turnError('\"' + dir + '\" is not a value for direction');\n\n      if (dir == 'rtl') {\n        $(this).attr('dir', 'ltr').css({\n          direction: 'ltr'\n        });\n      }\n\n      data.direction = dir;\n      if (data.done) this.turn('size', $(this).width(), $(this).height());\n      return this;\n    }\n  },\n  // Detects animation\n  animating: function animating() {\n    return this.data().pageMv.length > 0;\n  },\n  // Gets the current activated corner\n  corner: function corner() {\n    var corner,\n        page,\n        data = this.data();\n\n    for (page in data.pages) {\n      if (has(page, data.pages)) if (corner = data.pages[page].flip('corner')) {\n        return corner;\n      }\n    }\n\n    return false;\n  },\n  // Gets the data stored in the flipbook\n  data: function data() {\n    return this.data();\n  },\n  // Disables and enables the effect\n  disable: function disable(_disable) {\n    var page,\n        data = this.data(),\n        view = this.turn('view');\n    data.disabled = _disable === undefined || _disable === true;\n\n    for (page in data.pages) {\n      if (has(page, data.pages)) data.pages[page].flip('disable', data.disabled ? true : $.inArray(parseInt(page, 10), view) == -1);\n    }\n\n    return this;\n  },\n  // Disables and enables the effect\n  disabled: function disabled(disable) {\n    if (disable === undefined) {\n      return this.data().disabled === true;\n    } else {\n      return this.turn('disable', disable);\n    }\n  },\n  // Gets and sets the size\n  size: function size(width, height) {\n    if (width === undefined || height === undefined) {\n      return {\n        width: this.width(),\n        height: this.height()\n      };\n    } else {\n      this.turn('stop');\n      var page,\n          prop,\n          data = this.data(),\n          pageWidth = data.display == 'double' ? width / 2 : width;\n      this.css({\n        width: width,\n        height: height\n      });\n      if (data.pageObjs[0]) data.pageObjs[0].css({\n        width: pageWidth,\n        height: height\n      });\n\n      for (page in data.pageWrap) {\n        if (!has(page, data.pageWrap)) continue;\n        prop = turnMethods._pageSize.call(this, page, true);\n        data.pageObjs[page].css({\n          width: prop.width,\n          height: prop.height\n        });\n        data.pageWrap[page].css(prop);\n        if (data.pages[page]) data.pages[page].css({\n          width: prop.width,\n          height: prop.height\n        });\n      }\n\n      this.turn('resize');\n      return this;\n    }\n  },\n  // Resizes each page\n  resize: function resize() {\n    var page,\n        data = this.data();\n\n    if (data.pages[0]) {\n      data.pageWrap[0].css({\n        left: -this.width()\n      });\n      data.pages[0].flip('resize', true);\n    }\n\n    for (page = 1; page <= data.totalPages; page++) {\n      if (data.pages[page]) data.pages[page].flip('resize', true);\n    }\n\n    turnMethods._updateShadow.call(this);\n\n    if (data.opts.autoCenter) this.turn('center');\n  },\n  // Removes an animation from the cache\n  _removeMv: function _removeMv(page) {\n    var i,\n        data = this.data();\n\n    for (i = 0; i < data.pageMv.length; i++) {\n      if (data.pageMv[i] == page) {\n        data.pageMv.splice(i, 1);\n        return true;\n      }\n    }\n\n    return false;\n  },\n  // Adds an animation to the cache\n  _addMv: function _addMv(page) {\n    var data = this.data();\n\n    turnMethods._removeMv.call(this, page);\n\n    data.pageMv.push(page);\n  },\n  // Gets indexes for a view\n  _view: function _view(page) {\n    var data = this.data();\n    page = page || data.page;\n    if (data.display == 'double') return page % 2 ? [page - 1, page] : [page, page + 1];else return [page];\n  },\n  // Gets a view\n  view: function view(page) {\n    var data = this.data(),\n        view = turnMethods._view.call(this, page);\n\n    if (data.display == 'double') return [view[0] > 0 ? view[0] : 0, view[1] <= data.totalPages ? view[1] : 0];else return [view[0] > 0 && view[0] <= data.totalPages ? view[0] : 0];\n  },\n  // Stops animations\n  stop: function stop(ignore, animate) {\n    if (this.turn('animating')) {\n      var i,\n          opts,\n          page,\n          data = this.data();\n\n      if (data.tpage) {\n        data.page = data.tpage;\n        delete data['tpage'];\n      }\n\n      for (i = 0; i < data.pageMv.length; i++) {\n        if (!data.pageMv[i] || data.pageMv[i] === ignore) continue;\n        page = data.pages[data.pageMv[i]];\n        opts = page.data().f.opts;\n        page.flip('hideFoldedPage', animate);\n        if (!animate) flipMethods._moveFoldingPage.call(page, false);\n\n        if (opts.force) {\n          opts.next = opts.page % 2 === 0 ? opts.page - 1 : opts.page + 1;\n          delete opts['force'];\n        }\n      }\n    }\n\n    this.turn('update');\n    return this;\n  },\n  // Gets and sets the number of pages\n  pages: function pages(_pages) {\n    var data = this.data();\n\n    if (_pages) {\n      if (_pages < data.totalPages) {\n        for (var page = data.totalPages; page > _pages; page--) {\n          this.turn('removePage', page);\n        }\n      }\n\n      data.totalPages = _pages;\n\n      turnMethods._fitPage.call(this, data.page);\n\n      return this;\n    } else return data.totalPages;\n  },\n  // Checks missing pages\n  _missing: function _missing(page) {\n    var data = this.data();\n    if (data.totalPages < 1) return;\n    var p,\n        range = this.turn('range', page),\n        missing = [];\n\n    for (p = range[0]; p <= range[1]; p++) {\n      if (!data.pageObjs[p]) missing.push(p);\n    }\n\n    if (missing.length > 0) this.trigger('missing', [missing]);\n  },\n  // Sets a page without effect\n  _fitPage: function _fitPage(page) {\n    var data = this.data(),\n        newView = this.turn('view', page);\n\n    turnMethods._missing.call(this, page);\n\n    if (!data.pageObjs[page]) return;\n    data.page = page;\n    this.turn('stop');\n\n    for (var i = 0; i < newView.length; i++) {\n      if (newView[i] && data.pageZoom[newView[i]] != data.zoom) {\n        this.trigger('zoomed', [newView[i], newView, data.pageZoom[newView[i]], data.zoom]);\n        data.pageZoom[newView[i]] = data.zoom;\n      }\n    }\n\n    turnMethods._removeFromDOM.call(this);\n\n    turnMethods._makeRange.call(this);\n\n    turnMethods._updateShadow.call(this);\n\n    this.trigger('turned', [page, newView]);\n    this.turn('update');\n    if (data.opts.autoCenter) this.turn('center');\n  },\n  // Turns the page\n  _turnPage: function _turnPage(page) {\n    var current,\n        next,\n        data = this.data(),\n        place = data.pagePlace[page],\n        view = this.turn('view'),\n        newView = this.turn('view', page);\n\n    if (data.page != page) {\n      var currentPage = data.page;\n\n      if (trigger('turning', this, [page, newView]) == 'prevented') {\n        if (currentPage == data.page && $.inArray(place, data.pageMv) != -1) data.pages[place].flip('hideFoldedPage', true);\n        return;\n      }\n\n      if ($.inArray(1, newView) != -1) this.trigger('first');\n      if ($.inArray(data.totalPages, newView) != -1) this.trigger('last');\n    }\n\n    if (data.display == 'single') {\n      current = view[0];\n      next = newView[0];\n    } else if (view[1] && page > view[1]) {\n      current = view[1];\n      next = newView[0];\n    } else if (view[0] && page < view[0]) {\n      current = view[0];\n      next = newView[1];\n    }\n\n    var optsCorners = data.opts.turnCorners.split(','),\n        flipData = data.pages[current].data().f,\n        opts = flipData.opts,\n        actualPoint = flipData.point;\n\n    turnMethods._missing.call(this, page);\n\n    if (!data.pageObjs[page]) return;\n    this.turn('stop');\n    data.page = page;\n\n    turnMethods._makeRange.call(this);\n\n    data.tpage = next;\n\n    if (opts.next != next) {\n      opts.next = next;\n      opts.force = true;\n    }\n\n    this.turn('update');\n    flipData.point = actualPoint;\n    if (flipData.effect == 'hard') {\n      if (data.direction == 'ltr') data.pages[current].flip('turnPage', page > current ? 'r' : 'l');else data.pages[current].flip('turnPage', page > current ? 'l' : 'r');\n    } else {\n      if (data.direction == 'ltr') data.pages[current].flip('turnPage', optsCorners[page > current ? 1 : 0]);else data.pages[current].flip('turnPage', optsCorners[page > current ? 0 : 1]);\n    }\n  },\n  // Gets and sets a page\n  page: function page(_page) {\n    var data = this.data();\n\n    if (_page === undefined) {\n      return data.page;\n    } else {\n      if (!data.disabled && !data.destroying) {\n        _page = parseInt(_page, 10);\n\n        if (_page > 0 && _page <= data.totalPages) {\n          if (_page != data.page) {\n            if (!data.done || $.inArray(_page, this.turn('view')) != -1) turnMethods._fitPage.call(this, _page);else turnMethods._turnPage.call(this, _page);\n          }\n\n          return this;\n        } else {\n          throw turnError('The page ' + _page + ' does not exist');\n        }\n      }\n    }\n  },\n  // Turns to the next view\n  next: function next() {\n    return this.turn('page', Math.min(this.data().totalPages, turnMethods._view.call(this, this.data().page).pop() + 1));\n  },\n  // Turns to the previous view\n  previous: function previous() {\n    return this.turn('page', Math.max(1, turnMethods._view.call(this, this.data().page).shift() - 1));\n  },\n  // Shows a peeling corner\n  peel: function peel(corner, animate) {\n    var data = this.data(),\n        view = this.turn('view');\n    animate = animate === undefined ? true : animate === true;\n\n    if (corner === false) {\n      this.turn('stop', null, animate);\n    } else {\n      if (data.display == 'single') {\n        data.pages[data.page].flip('peel', corner, animate);\n      } else {\n        var page;\n\n        if (data.direction == 'ltr') {\n          page = corner.indexOf('l') != -1 ? view[0] : view[1];\n        } else {\n          page = corner.indexOf('l') != -1 ? view[1] : view[0];\n        }\n\n        if (data.pages[page]) data.pages[page].flip('peel', corner, animate);\n      }\n    }\n\n    return this;\n  },\n  // Adds a motion to the internal list\n  // This event is called in context of flip\n  _addMotionPage: function _addMotionPage() {\n    var opts = $(this).data().f.opts,\n        turn = opts.turn,\n        dd = turn.data();\n\n    turnMethods._addMv.call(turn, opts.page);\n  },\n  // This event is called in context of flip\n  _eventStart: function _eventStart(e, opts, corner) {\n    var data = opts.turn.data(),\n        actualZoom = data.pageZoom[opts.page];\n\n    if (e.isDefaultPrevented()) {\n      turnMethods._updateShadow.call(opts.turn);\n\n      return;\n    }\n\n    if (actualZoom && actualZoom != data.zoom) {\n      opts.turn.trigger('zoomed', [opts.page, opts.turn.turn('view', opts.page), actualZoom, data.zoom]);\n      data.pageZoom[opts.page] = data.zoom;\n    }\n\n    if (data.display == 'single' && corner) {\n      if (corner.charAt(1) == 'l' && data.direction == 'ltr' || corner.charAt(1) == 'r' && data.direction == 'rtl') {\n        opts.next = opts.next < opts.page ? opts.next : opts.page - 1;\n        opts.force = true;\n      } else {\n        opts.next = opts.next > opts.page ? opts.next : opts.page + 1;\n      }\n    }\n\n    turnMethods._addMotionPage.call(e.target);\n\n    turnMethods._updateShadow.call(opts.turn);\n  },\n  // This event is called in context of flip\n  _eventEnd: function _eventEnd(e, opts, turned) {\n    var that = $(e.target),\n        data = that.data().f,\n        turn = opts.turn,\n        dd = turn.data();\n\n    if (turned) {\n      var tpage = dd.tpage || dd.page;\n\n      if (tpage == opts.next || tpage == opts.page) {\n        delete dd.tpage;\n\n        turnMethods._fitPage.call(turn, tpage || opts.next, true);\n      }\n    } else {\n      turnMethods._removeMv.call(turn, opts.page);\n\n      turnMethods._updateShadow.call(turn);\n\n      turn.turn('update');\n    }\n  },\n  // This event is called in context of flip\n  _eventPressed: function _eventPressed(e) {\n    var page,\n        data = $(e.target).data().f,\n        turn = data.opts.turn,\n        turnData = turn.data(),\n        pages = turnData.pages;\n    turnData.mouseAction = true;\n    turn.turn('update');\n    return data.time = new Date().getTime();\n  },\n  // This event is called in context of flip\n  _eventReleased: function _eventReleased(e, point) {\n    var outArea,\n        page = $(e.target),\n        data = page.data().f,\n        turn = data.opts.turn,\n        turnData = turn.data();\n\n    if (turnData.display == 'single') {\n      outArea = point.corner == 'br' || point.corner == 'tr' ? point.x < page.width() / 2 : point.x > page.width() / 2;\n    } else {\n      outArea = point.x < 0 || point.x > page.width();\n    }\n\n    if (new Date().getTime() - data.time < 200 || outArea) {\n      e.preventDefault();\n\n      turnMethods._turnPage.call(turn, data.opts.next);\n    }\n\n    turnData.mouseAction = false;\n  },\n  // This event is called in context of flip\n  _flip: function _flip(e) {\n    e.stopPropagation();\n    var opts = $(e.target).data().f.opts;\n    opts.turn.trigger('turn', [opts.next]);\n\n    if (opts.turn.data().opts.autoCenter) {\n      opts.turn.turn('center', opts.next);\n    }\n  },\n  //\n  _touchStart: function _touchStart() {\n    var data = this.data();\n\n    for (var page in data.pages) {\n      if (has(page, data.pages) && flipMethods._eventStart.apply(data.pages[page], arguments) === false) {\n        return false;\n      }\n    }\n  },\n  //\n  _touchMove: function _touchMove() {\n    var data = this.data();\n\n    for (var page in data.pages) {\n      if (has(page, data.pages)) {\n        flipMethods._eventMove.apply(data.pages[page], arguments);\n      }\n    }\n  },\n  //\n  _touchEnd: function _touchEnd() {\n    var data = this.data();\n\n    for (var page in data.pages) {\n      if (has(page, data.pages)) {\n        flipMethods._eventEnd.apply(data.pages[page], arguments);\n      }\n    }\n  },\n  // Calculate the z-index value for pages during the animation\n  calculateZ: function calculateZ(mv) {\n    var i,\n        page,\n        nextPage,\n        placePage,\n        dpage,\n        that = this,\n        data = this.data(),\n        view = this.turn('view'),\n        currentPage = view[0] || view[1],\n        total = mv.length - 1,\n        r = {\n      pageZ: {},\n      partZ: {},\n      pageV: {}\n    },\n        addView = function addView(page) {\n      var view = that.turn('view', page);\n      if (view[0]) r.pageV[view[0]] = true;\n      if (view[1]) r.pageV[view[1]] = true;\n    };\n\n    for (i = 0; i <= total; i++) {\n      page = mv[i];\n      nextPage = data.pages[page].data().f.opts.next;\n      placePage = data.pagePlace[page];\n      addView(page);\n      addView(nextPage);\n      dpage = data.pagePlace[nextPage] == nextPage ? nextPage : page;\n      r.pageZ[dpage] = data.totalPages - Math.abs(currentPage - dpage);\n      r.partZ[placePage] = data.totalPages * 2 - total + i;\n    }\n\n    return r;\n  },\n  // Updates the z-index and display property of every page\n  update: function update() {\n    var page,\n        data = this.data();\n\n    if (this.turn('animating') && data.pageMv[0] !== 0) {\n      // Update motion\n      var p,\n          apage,\n          fixed,\n          pos = this.turn('calculateZ', data.pageMv),\n          corner = this.turn('corner'),\n          actualView = this.turn('view'),\n          newView = this.turn('view', data.tpage);\n\n      for (page in data.pageWrap) {\n        if (!has(page, data.pageWrap)) continue;\n        fixed = data.pageObjs[page].hasClass('fixed');\n        data.pageWrap[page].css({\n          display: pos.pageV[page] || fixed ? '' : 'none',\n          zIndex: (data.pageObjs[page].hasClass('hard') ? pos.partZ[page] : pos.pageZ[page]) || (fixed ? -1 : 0)\n        });\n\n        if (p = data.pages[page]) {\n          p.flip('z', pos.partZ[page] || null);\n          if (pos.pageV[page]) p.flip('resize');\n\n          if (data.tpage) {\n            // Is it turning the page to `tpage`?\n            p.flip('hover', false).flip('disable', $.inArray(parseInt(page, 10), data.pageMv) == -1 && page != newView[0] && page != newView[1]);\n          } else {\n            p.flip('hover', corner === false).flip('disable', page != actualView[0] && page != actualView[1]);\n          }\n        }\n      }\n    } else {\n      // Update static pages\n      for (page in data.pageWrap) {\n        if (!has(page, data.pageWrap)) continue;\n\n        var pageLocation = turnMethods._setPageLoc.call(this, page);\n\n        if (data.pages[page]) {\n          data.pages[page].flip('disable', data.disabled || pageLocation != 1).flip('hover', true).flip('z', null);\n        }\n      }\n    }\n\n    return this;\n  },\n  // Updates the position and size of the flipbook's shadow\n  _updateShadow: function _updateShadow() {\n    var view,\n        view2,\n        shadow,\n        data = this.data(),\n        width = this.width(),\n        height = this.height(),\n        pageWidth = data.display == 'single' ? width : width / 2;\n    view = this.turn('view');\n\n    if (!data.shadow) {\n      data.shadow = $('<div />', {\n        'class': 'shadow',\n        'css': divAtt(0, 0, 0).css\n      }).appendTo(this);\n    }\n\n    for (var i = 0; i < data.pageMv.length; i++) {\n      if (!view[0] || !view[1]) break;\n      view = this.turn('view', data.pages[data.pageMv[i]].data().f.opts.next);\n      view2 = this.turn('view', data.pageMv[i]);\n      view[0] = view[0] && view2[0];\n      view[1] = view[1] && view2[1];\n    }\n\n    if (!view[0]) shadow = data.direction == 'ltr' ? 1 : 2;else if (!view[1]) shadow = data.direction == 'ltr' ? 2 : 1;else shadow = 3;\n\n    switch (shadow) {\n      case 1:\n        data.shadow.css({\n          width: pageWidth,\n          height: height,\n          top: 0,\n          left: pageWidth\n        });\n        break;\n\n      case 2:\n        data.shadow.css({\n          width: pageWidth,\n          height: height,\n          top: 0,\n          left: 0\n        });\n        break;\n\n      case 3:\n        data.shadow.css({\n          width: width,\n          height: height,\n          top: 0,\n          left: 0\n        });\n        break;\n    }\n  },\n  // Sets the z-index and display property of a page\n  // It depends on the current view\n  _setPageLoc: function _setPageLoc(page) {\n    var data = this.data(),\n        view = this.turn('view'),\n        loc = 0;\n    if (page == view[0] || page == view[1]) loc = 1;else if (data.display == 'single' && page == view[0] + 1 || data.display == 'double' && page == view[0] - 2 || page == view[1] + 2) loc = 2;\n    if (!this.turn('animating')) switch (loc) {\n      case 1:\n        data.pageWrap[page].css({\n          zIndex: data.totalPages,\n          display: ''\n        });\n        break;\n\n      case 2:\n        data.pageWrap[page].css({\n          zIndex: data.totalPages - 1,\n          display: ''\n        });\n        break;\n\n      case 0:\n        data.pageWrap[page].css({\n          zIndex: 0,\n          display: data.pageObjs[page].hasClass('fixed') ? '' : 'none'\n        });\n        break;\n    }\n    return loc;\n  },\n  // Gets and sets the options\n  options: function options(_options) {\n    if (_options === undefined) {\n      return this.data().opts;\n    } else {\n      var data = this.data(); // Set new values\n\n      $.extend(data.opts, _options); // Set pages\n\n      if (_options.pages) this.turn('pages', _options.pages); // Set page\n\n      if (_options.page) this.turn('page', _options.page); // Set display\n\n      if (_options.display) this.turn('display', _options.display); // Set direction\n\n      if (_options.direction) this.turn('direction', _options.direction); // Set size\n\n      if (_options.width && _options.height) this.turn('size', _options.width, _options.height); // Add event listeners\n\n      if (_options.when) for (var eventName in _options.when) {\n        if (has(eventName, _options.when)) {\n          this.unbind(eventName).bind(eventName, _options.when[eventName]);\n        }\n      }\n      return this;\n    }\n  },\n  // Gets the current version\n  version: function version() {\n    return _version;\n  }\n},\n    // Methods and properties for the flip page effect\nflipMethods = {\n  // Constructor\n  init: function init(opts) {\n    this.data({\n      f: {\n        disabled: false,\n        hover: false,\n        effect: this.hasClass('hard') ? 'hard' : 'sheet'\n      }\n    });\n    this.flip('options', opts);\n\n    flipMethods._addPageWrapper.call(this);\n\n    return this;\n  },\n  setData: function setData(d) {\n    var data = this.data();\n    data.f = $.extend(data.f, d);\n    return this;\n  },\n  options: function options(opts) {\n    var data = this.data().f;\n\n    if (opts) {\n      flipMethods.setData.call(this, {\n        opts: $.extend({}, data.opts || flipOptions, opts)\n      });\n      return this;\n    } else return data.opts;\n  },\n  z: function z(_z) {\n    var data = this.data().f;\n    data.opts['z-index'] = _z;\n    if (data.fwrapper) data.fwrapper.css({\n      zIndex: _z || parseInt(data.parent.css('z-index'), 10) || 0\n    });\n    return this;\n  },\n  _cAllowed: function _cAllowed() {\n    var data = this.data().f,\n        page = data.opts.page,\n        turnData = data.opts.turn.data(),\n        odd = page % 2;\n\n    if (data.effect == 'hard') {\n      return turnData.direction == 'ltr' ? [odd ? 'r' : 'l'] : [odd ? 'l' : 'r'];\n    } else {\n      if (turnData.display == 'single') {\n        if (page == 1) return turnData.direction == 'ltr' ? corners['forward'] : corners['backward'];else if (page == turnData.totalPages) return turnData.direction == 'ltr' ? corners['backward'] : corners['forward'];else return corners['all'];\n      } else {\n        return turnData.direction == 'ltr' ? corners[odd ? 'forward' : 'backward'] : corners[odd ? 'backward' : 'forward'];\n      }\n    }\n  },\n  _cornerActivated: function _cornerActivated(p) {\n    var data = this.data().f,\n        width = this.width(),\n        height = this.height(),\n        point = {\n      x: p.x,\n      y: p.y,\n      corner: ''\n    },\n        csz = data.opts.cornerSize;\n    if (point.x <= 0 || point.y <= 0 || point.x >= width || point.y >= height) return false;\n\n    var allowedCorners = flipMethods._cAllowed.call(this);\n\n    switch (data.effect) {\n      case 'hard':\n        if (point.x > width - csz) point.corner = 'r';else if (point.x < csz) point.corner = 'l';else return false;\n        break;\n\n      case 'sheet':\n        if (point.y < csz) point.corner += 't';else if (point.y >= height - csz) point.corner += 'b';else return false;\n        if (point.x <= csz) point.corner += 'l';else if (point.x >= width - csz) point.corner += 'r';else return false;\n        break;\n    }\n\n    return !point.corner || $.inArray(point.corner, allowedCorners) == -1 ? false : point;\n  },\n  _isIArea: function _isIArea(e) {\n    var pos = this.data().f.parent.offset();\n    e = isTouch && e.originalEvent ? e.originalEvent.touches[0] : e;\n    return flipMethods._cornerActivated.call(this, {\n      x: e.pageX - pos.left,\n      y: e.pageY - pos.top\n    });\n  },\n  _c: function _c(corner, opts) {\n    opts = opts || 0;\n\n    switch (corner) {\n      case 'tl':\n        return point2D(opts, opts);\n\n      case 'tr':\n        return point2D(this.width() - opts, opts);\n\n      case 'bl':\n        return point2D(opts, this.height() - opts);\n\n      case 'br':\n        return point2D(this.width() - opts, this.height() - opts);\n\n      case 'l':\n        return point2D(opts, 0);\n\n      case 'r':\n        return point2D(this.width() - opts, 0);\n    }\n  },\n  _c2: function _c2(corner) {\n    switch (corner) {\n      case 'tl':\n        return point2D(this.width() * 2, 0);\n\n      case 'tr':\n        return point2D(-this.width(), 0);\n\n      case 'bl':\n        return point2D(this.width() * 2, this.height());\n\n      case 'br':\n        return point2D(-this.width(), this.height());\n\n      case 'l':\n        return point2D(this.width() * 2, 0);\n\n      case 'r':\n        return point2D(-this.width(), 0);\n    }\n  },\n  _foldingPage: function _foldingPage() {\n    var data = this.data().f;\n    if (!data) return;\n    var opts = data.opts;\n\n    if (opts.turn) {\n      data = opts.turn.data();\n      if (data.display == 'single') return opts.next > 1 || opts.page > 1 ? data.pageObjs[0] : null;else return data.pageObjs[opts.next];\n    }\n  },\n  _backGradient: function _backGradient() {\n    var data = this.data().f,\n        turnData = data.opts.turn.data(),\n        gradient = turnData.opts.gradients && (turnData.display == 'single' || data.opts.page != 2 && data.opts.page != turnData.totalPages - 1);\n    if (gradient && !data.bshadow) data.bshadow = $('<div/>', divAtt(0, 0, 1)).css({\n      'position': '',\n      width: this.width(),\n      height: this.height()\n    }).appendTo(data.parent);\n    return gradient;\n  },\n  type: function type() {\n    return this.data().f.effect;\n  },\n  resize: function resize(full) {\n    var data = this.data().f,\n        turnData = data.opts.turn.data(),\n        width = this.width(),\n        height = this.height();\n\n    switch (data.effect) {\n      case 'hard':\n        if (full) {\n          data.wrapper.css({\n            width: width,\n            height: height\n          });\n          data.fpage.css({\n            width: width,\n            height: height\n          });\n\n          if (turnData.opts.gradients) {\n            data.ashadow.css({\n              width: width,\n              height: height\n            });\n            data.bshadow.css({\n              width: width,\n              height: height\n            });\n          }\n        }\n\n        break;\n\n      case 'sheet':\n        if (full) {\n          var size = Math.round(Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)));\n          data.wrapper.css({\n            width: size,\n            height: size\n          });\n          data.fwrapper.css({\n            width: size,\n            height: size\n          }).children(':first-child').css({\n            width: width,\n            height: height\n          });\n          data.fpage.css({\n            width: width,\n            height: height\n          });\n          if (turnData.opts.gradients) data.ashadow.css({\n            width: width,\n            height: height\n          });\n          if (flipMethods._backGradient.call(this)) data.bshadow.css({\n            width: width,\n            height: height\n          });\n        }\n\n        if (data.parent.is(':visible')) {\n          var offset = findPos(data.parent[0]);\n          data.fwrapper.css({\n            top: offset.top,\n            left: offset.left\n          }); //if (data.opts.turn) {\n\n          offset = findPos(data.opts.turn[0]);\n          data.fparent.css({\n            top: -offset.top,\n            left: -offset.left\n          }); //}\n        }\n\n        this.flip('z', data.opts['z-index']);\n        break;\n    }\n  },\n  // Prepares the page by adding a general wrapper and another objects\n  _addPageWrapper: function _addPageWrapper() {\n    var att,\n        data = this.data().f,\n        turnData = data.opts.turn.data(),\n        parent = this.parent();\n    data.parent = parent;\n    if (!data.wrapper) switch (data.effect) {\n      case 'hard':\n        var cssProperties = {};\n        cssProperties[vendor + 'transform-style'] = 'preserve-3d';\n        cssProperties[vendor + 'backface-visibility'] = 'hidden';\n        data.wrapper = $('<div/>', divAtt(0, 0, 2)).css(cssProperties).appendTo(parent).prepend(this);\n        data.fpage = $('<div/>', divAtt(0, 0, 1)).css(cssProperties).appendTo(parent);\n\n        if (turnData.opts.gradients) {\n          data.ashadow = $('<div/>', divAtt(0, 0, 0)).hide().appendTo(parent);\n          data.bshadow = $('<div/>', divAtt(0, 0, 0));\n        }\n\n        break;\n\n      case 'sheet':\n        var width = this.width(),\n            height = this.height(),\n            size = Math.round(Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)));\n        data.fparent = data.opts.turn.data().fparent;\n\n        if (!data.fparent) {\n          var fparent = $('<div/>', {\n            css: {\n              'pointer-events': 'none'\n            }\n          }).hide();\n          fparent.data().flips = 0;\n          fparent.css(divAtt(0, 0, 'auto', 'visible').css).appendTo(data.opts.turn);\n          data.opts.turn.data().fparent = fparent;\n          data.fparent = fparent;\n        }\n\n        this.css({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          bottom: 'auto',\n          right: 'auto'\n        });\n        data.wrapper = $('<div/>', divAtt(0, 0, this.css('z-index'))).appendTo(parent).prepend(this);\n        data.fwrapper = $('<div/>', divAtt(parent.offset().top, parent.offset().left)).hide().appendTo(data.fparent);\n        data.fpage = $('<div/>', divAtt(0, 0, 0, 'visible')).css({\n          cursor: 'default'\n        }).appendTo(data.fwrapper);\n        if (turnData.opts.gradients) data.ashadow = $('<div/>', divAtt(0, 0, 1)).appendTo(data.fpage);\n        flipMethods.setData.call(this, data);\n        break;\n    } // Set size\n\n    flipMethods.resize.call(this, true);\n  },\n  // Takes a 2P point from the screen and applies the transformation\n  _fold: function _fold(point) {\n    var data = this.data().f,\n        turnData = data.opts.turn.data(),\n        o = flipMethods._c.call(this, point.corner),\n        width = this.width(),\n        height = this.height();\n\n    switch (data.effect) {\n      case 'hard':\n        if (point.corner == 'l') point.x = Math.min(Math.max(point.x, 0), width * 2);else point.x = Math.max(Math.min(point.x, width), -width);\n        var leftPos,\n            shadow,\n            gradientX,\n            fpageOrigin,\n            parentOrigin,\n            totalPages = turnData.totalPages,\n            zIndex = data.opts['z-index'] || totalPages,\n            parentCss = {\n          'overflow': 'visible'\n        },\n            relX = o.x ? (o.x - point.x) / width : point.x / width,\n            angle = relX * 90,\n            half = angle < 90;\n\n        switch (point.corner) {\n          case 'l':\n            fpageOrigin = '0% 50%';\n            parentOrigin = '100% 50%';\n\n            if (half) {\n              leftPos = 0;\n              shadow = data.opts.next - 1 > 0;\n              gradientX = 1;\n            } else {\n              leftPos = '100%';\n              shadow = data.opts.page + 1 < totalPages;\n              gradientX = 0;\n            }\n\n            break;\n\n          case 'r':\n            fpageOrigin = '100% 50%';\n            parentOrigin = '0% 50%';\n            angle = -angle;\n            width = -width;\n\n            if (half) {\n              leftPos = 0;\n              shadow = data.opts.next + 1 < totalPages;\n              gradientX = 0;\n            } else {\n              leftPos = '-100%';\n              shadow = data.opts.page != 1;\n              gradientX = 1;\n            }\n\n            break;\n        }\n\n        parentCss[vendor + 'perspective-origin'] = parentOrigin;\n        data.wrapper.transform('rotateY(' + angle + 'deg)' + 'translate3d(0px, 0px, ' + (this.attr('depth') || 0) + 'px)', parentOrigin);\n        data.fpage.transform('translateX(' + width + 'px) rotateY(' + (180 + angle) + 'deg)', fpageOrigin);\n        data.parent.css(parentCss);\n\n        if (half) {\n          relX = -relX + 1;\n          data.wrapper.css({\n            zIndex: zIndex + 1\n          });\n          data.fpage.css({\n            zIndex: zIndex\n          });\n        } else {\n          relX = relX - 1;\n          data.wrapper.css({\n            zIndex: zIndex\n          });\n          data.fpage.css({\n            zIndex: zIndex + 1\n          });\n        }\n\n        if (turnData.opts.gradients) {\n          if (shadow) data.ashadow.css({\n            display: '',\n            left: leftPos,\n            backgroundColor: 'rgba(0,0,0,' + 0.5 * relX + ')'\n          }).transform('rotateY(0deg)');else data.ashadow.hide();\n          data.bshadow.css({\n            opacity: -relX + 1\n          });\n\n          if (half) {\n            if (data.bshadow.parent()[0] != data.wrapper[0]) {\n              data.bshadow.appendTo(data.wrapper);\n            }\n          } else {\n            if (data.bshadow.parent()[0] != data.fpage[0]) {\n              data.bshadow.appendTo(data.fpage);\n            }\n          }\n          /*data.bshadow.css({\n            backgroundColor: 'rgba(0,0,0,'+(0.1)+')'\n          })*/\n\n\n          gradient(data.bshadow, point2D(gradientX * 100, 0), point2D((-gradientX + 1) * 100, 0), [[0, 'rgba(0,0,0,0.3)'], [1, 'rgba(0,0,0,0)']], 2);\n        }\n\n        break;\n\n      case 'sheet':\n        var that = this,\n            a = 0,\n            alpha = 0,\n            beta,\n            px,\n            gradientEndPointA,\n            gradientEndPointB,\n            gradientStartVal,\n            gradientSize,\n            gradientOpacity,\n            shadowVal,\n            mv = point2D(0, 0),\n            df = point2D(0, 0),\n            tr = point2D(0, 0),\n            folding = flipMethods._foldingPage.call(this),\n            tan = Math.tan(alpha),\n            ac = turnData.opts.acceleration,\n            h = data.wrapper.height(),\n            top = point.corner.substr(0, 1) == 't',\n            left = point.corner.substr(1, 1) == 'l',\n            compute = function compute() {\n          var rel = point2D(0, 0);\n          var middle = point2D(0, 0);\n          rel.x = o.x ? o.x - point.x : point.x;\n\n          if (!hasRot) {\n            rel.y = 0;\n          } else {\n            rel.y = o.y ? o.y - point.y : point.y;\n          }\n\n          middle.x = left ? width - rel.x / 2 : point.x + rel.x / 2;\n          middle.y = rel.y / 2;\n          var alpha = A90 - Math.atan2(rel.y, rel.x),\n              gamma = alpha - Math.atan2(middle.y, middle.x),\n              distance = Math.max(0, Math.sin(gamma) * Math.sqrt(Math.pow(middle.x, 2) + Math.pow(middle.y, 2)));\n          a = deg(alpha);\n          tr = point2D(distance * Math.sin(alpha), distance * Math.cos(alpha));\n\n          if (alpha > A90) {\n            tr.x = tr.x + Math.abs(tr.y * rel.y / rel.x);\n            tr.y = 0;\n\n            if (Math.round(tr.x * Math.tan(PI - alpha)) < height) {\n              point.y = Math.sqrt(Math.pow(height, 2) + 2 * middle.x * rel.x);\n              if (top) point.y = height - point.y;\n              return compute();\n            }\n          }\n\n          if (alpha > A90) {\n            var beta = PI - alpha,\n                dd = h - height / Math.sin(beta);\n            mv = point2D(Math.round(dd * Math.cos(beta)), Math.round(dd * Math.sin(beta)));\n            if (left) mv.x = -mv.x;\n            if (top) mv.y = -mv.y;\n          }\n\n          px = Math.round(tr.y / Math.tan(alpha) + tr.x);\n          var side = width - px,\n              sideX = side * Math.cos(alpha * 2),\n              sideY = side * Math.sin(alpha * 2);\n          df = point2D(Math.round(left ? side - sideX : px + sideX), Math.round(top ? sideY : height - sideY)); // Gradients\n\n          if (turnData.opts.gradients) {\n            gradientSize = side * Math.sin(alpha);\n\n            var endingPoint = flipMethods._c2.call(that, point.corner),\n                far = Math.sqrt(Math.pow(endingPoint.x - point.x, 2) + Math.pow(endingPoint.y - point.y, 2)) / width;\n\n            shadowVal = Math.sin(A90 * (far > 1 ? 2 - far : far));\n            gradientOpacity = Math.min(far, 1);\n            gradientStartVal = gradientSize > 100 ? (gradientSize - 100) / gradientSize : 0;\n            gradientEndPointA = point2D(gradientSize * Math.sin(alpha) / width * 100, gradientSize * Math.cos(alpha) / height * 100);\n\n            if (flipMethods._backGradient.call(that)) {\n              gradientEndPointB = point2D(gradientSize * 1.2 * Math.sin(alpha) / width * 100, gradientSize * 1.2 * Math.cos(alpha) / height * 100);\n              if (!left) gradientEndPointB.x = 100 - gradientEndPointB.x;\n              if (!top) gradientEndPointB.y = 100 - gradientEndPointB.y;\n            }\n          }\n\n          tr.x = Math.round(tr.x);\n          tr.y = Math.round(tr.y);\n          return true;\n        },\n            transform = function transform(tr, c, x, a) {\n          var f = ['0', 'auto'],\n              mvW = (width - h) * x[0] / 100,\n              mvH = (height - h) * x[1] / 100,\n              cssA = {\n            left: f[c[0]],\n            top: f[c[1]],\n            right: f[c[2]],\n            bottom: f[c[3]]\n          },\n              cssB = {},\n              aliasingFk = a != 90 && a != -90 ? left ? -1 : 1 : 0,\n              origin = x[0] + '% ' + x[1] + '%';\n          that.css(cssA).transform(rotate(a) + translate(tr.x + aliasingFk, tr.y, ac), origin);\n          data.fpage.css(cssA).transform(rotate(a) + translate(tr.x + df.x - mv.x - width * x[0] / 100, tr.y + df.y - mv.y - height * x[1] / 100, ac) + rotate((180 / a - 2) * a), origin);\n          data.wrapper.transform(translate(-tr.x + mvW - aliasingFk, -tr.y + mvH, ac) + rotate(-a), origin);\n          data.fwrapper.transform(translate(-tr.x + mv.x + mvW, -tr.y + mv.y + mvH, ac) + rotate(-a), origin);\n\n          if (turnData.opts.gradients) {\n            if (x[0]) gradientEndPointA.x = 100 - gradientEndPointA.x;\n            if (x[1]) gradientEndPointA.y = 100 - gradientEndPointA.y;\n            cssB['box-shadow'] = '0 0 20px rgba(0,0,0,' + 0.5 * shadowVal + ')';\n            folding.css(cssB);\n            gradient(data.ashadow, point2D(left ? 100 : 0, top ? 0 : 100), point2D(gradientEndPointA.x, gradientEndPointA.y), [[gradientStartVal, 'rgba(0,0,0,0)'], [(1 - gradientStartVal) * 0.8 + gradientStartVal, 'rgba(0,0,0,' + 0.2 * gradientOpacity + ')'], [1, 'rgba(255,255,255,' + 0.2 * gradientOpacity + ')']], 3, alpha);\n            if (flipMethods._backGradient.call(that)) gradient(data.bshadow, point2D(left ? 0 : 100, top ? 0 : 100), point2D(gradientEndPointB.x, gradientEndPointB.y), [[0.6, 'rgba(0,0,0,0)'], [0.8, 'rgba(0,0,0,' + 0.3 * gradientOpacity + ')'], [1, 'rgba(0,0,0,0)']], 3);\n          }\n        };\n\n        switch (point.corner) {\n          case 'l':\n            break;\n\n          case 'r':\n            break;\n\n          case 'tl':\n            point.x = Math.max(point.x, 1);\n            compute();\n            transform(tr, [1, 0, 0, 1], [100, 0], a);\n            break;\n\n          case 'tr':\n            point.x = Math.min(point.x, width - 1);\n            compute();\n            transform(point2D(-tr.x, tr.y), [0, 0, 0, 1], [0, 0], -a);\n            break;\n\n          case 'bl':\n            point.x = Math.max(point.x, 1);\n            compute();\n            transform(point2D(tr.x, -tr.y), [1, 1, 0, 0], [100, 100], -a);\n            break;\n\n          case 'br':\n            point.x = Math.min(point.x, width - 1);\n            compute();\n            transform(point2D(-tr.x, -tr.y), [0, 1, 1, 0], [0, 100], a);\n            break;\n        }\n\n        break;\n    }\n\n    data.point = point;\n  },\n  _moveFoldingPage: function _moveFoldingPage(move) {\n    var data = this.data().f;\n    if (!data) return;\n    var turn = data.opts.turn,\n        turnData = turn.data(),\n        place = turnData.pagePlace;\n\n    if (move) {\n      var nextPage = data.opts.next;\n\n      if (place[nextPage] != data.opts.page) {\n        if (data.folding) flipMethods._moveFoldingPage.call(this, false);\n\n        var folding = flipMethods._foldingPage.call(this);\n\n        folding.appendTo(data.fpage);\n        place[nextPage] = data.opts.page;\n        data.folding = nextPage;\n      }\n\n      turn.turn('update');\n    } else {\n      if (data.folding) {\n        if (turnData.pages[data.folding]) {\n          // If we have flip available\n          var flipData = turnData.pages[data.folding].data().f;\n          turnData.pageObjs[data.folding].appendTo(flipData.wrapper);\n        } else if (turnData.pageWrap[data.folding]) {\n          // If we have the pageWrapper\n          turnData.pageObjs[data.folding].appendTo(turnData.pageWrap[data.folding]);\n        }\n\n        if (data.folding in place) {\n          place[data.folding] = data.folding;\n        }\n\n        delete data.folding;\n      }\n    }\n  },\n  _showFoldedPage: function _showFoldedPage(c, animate) {\n    var folding = flipMethods._foldingPage.call(this),\n        dd = this.data(),\n        data = dd.f,\n        visible = data.visible;\n\n    if (folding) {\n      if (!visible || !data.point || data.point.corner != c.corner) {\n        var corner = data.status == 'hover' || data.status == 'peel' || data.opts.turn.data().mouseAction ? c.corner : null;\n        visible = false;\n        if (trigger('start', this, [data.opts, corner]) == 'prevented') return false;\n      }\n\n      if (animate) {\n        var that = this,\n            point = data.point && data.point.corner == c.corner ? data.point : flipMethods._c.call(this, c.corner, 1);\n        this.animatef({\n          from: [point.x, point.y],\n          to: [c.x, c.y],\n          duration: 500,\n          frame: function frame(v) {\n            c.x = Math.round(v[0]);\n            c.y = Math.round(v[1]);\n\n            flipMethods._fold.call(that, c);\n          }\n        });\n      } else {\n        flipMethods._fold.call(this, c);\n\n        if (dd.effect && !dd.effect.turning) this.animatef(false);\n      }\n\n      if (!visible) {\n        switch (data.effect) {\n          case 'hard':\n            data.visible = true;\n\n            flipMethods._moveFoldingPage.call(this, true);\n\n            data.fpage.show();\n            if (data.opts.shadows) data.bshadow.show();\n            break;\n\n          case 'sheet':\n            data.visible = true;\n            data.fparent.show().data().flips++;\n\n            flipMethods._moveFoldingPage.call(this, true);\n\n            data.fwrapper.show();\n            if (data.bshadow) data.bshadow.show();\n            break;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  hide: function hide() {\n    var data = this.data().f,\n        turnData = data.opts.turn.data(),\n        folding = flipMethods._foldingPage.call(this);\n\n    switch (data.effect) {\n      case 'hard':\n        if (turnData.opts.gradients) {\n          data.bshadowLoc = 0;\n          data.bshadow.remove();\n          data.ashadow.hide();\n        }\n\n        data.wrapper.transform('');\n        data.fpage.hide();\n        break;\n\n      case 'sheet':\n        if (--data.fparent.data().flips === 0) data.fparent.hide();\n        this.css({\n          left: 0,\n          top: 0,\n          right: 'auto',\n          bottom: 'auto'\n        }).transform('');\n        data.wrapper.transform('');\n        data.fwrapper.hide();\n        if (data.bshadow) data.bshadow.hide();\n        folding.transform('');\n        break;\n    }\n\n    data.visible = false;\n    return this;\n  },\n  hideFoldedPage: function hideFoldedPage(animate) {\n    var data = this.data().f;\n    if (!data.point) return;\n\n    var that = this,\n        p1 = data.point,\n        hide = function hide() {\n      data.point = null;\n      data.status = '';\n      that.flip('hide');\n      that.trigger('end', [data.opts, false]);\n    };\n\n    if (animate) {\n      var p4 = flipMethods._c.call(this, p1.corner),\n          top = p1.corner.substr(0, 1) == 't',\n          delta = top ? Math.min(0, p1.y - p4.y) / 2 : Math.max(0, p1.y - p4.y) / 2,\n          p2 = point2D(p1.x, p1.y + delta),\n          p3 = point2D(p4.x, p4.y - delta);\n\n      this.animatef({\n        from: 0,\n        to: 1,\n        frame: function frame(v) {\n          var np = bezier(p1, p2, p3, p4, v);\n          p1.x = np.x;\n          p1.y = np.y;\n\n          flipMethods._fold.call(that, p1);\n        },\n        complete: hide,\n        duration: 800,\n        hiding: true\n      });\n    } else {\n      this.animatef(false);\n      hide();\n    }\n  },\n  turnPage: function turnPage(corner) {\n    var that = this,\n        data = this.data().f,\n        turnData = data.opts.turn.data();\n    corner = {\n      corner: data.corner ? data.corner.corner : corner || flipMethods._cAllowed.call(this)[0]\n    };\n\n    var p1 = data.point || flipMethods._c.call(this, corner.corner, data.opts.turn ? turnData.opts.elevation : 0),\n        p4 = flipMethods._c2.call(this, corner.corner);\n\n    this.trigger('flip').animatef({\n      from: 0,\n      to: 1,\n      frame: function frame(v) {\n        var np = bezier(p1, p1, p4, p4, v);\n        corner.x = np.x;\n        corner.y = np.y;\n\n        flipMethods._showFoldedPage.call(that, corner);\n      },\n      complete: function complete() {\n        that.trigger('end', [data.opts, true]);\n      },\n      duration: turnData.opts.duration,\n      turning: true\n    });\n    data.corner = null;\n  },\n  moving: function moving() {\n    return 'effect' in this.data();\n  },\n  isTurning: function isTurning() {\n    return this.flip('moving') && this.data().effect.turning;\n  },\n  corner: function corner() {\n    return this.data().f.corner;\n  },\n  _eventStart: function _eventStart(e) {\n    var data = this.data().f,\n        turn = data.opts.turn;\n\n    if (!data.corner && !data.disabled && !this.flip('isTurning') && data.opts.page == turn.data().pagePlace[data.opts.page]) {\n      data.corner = flipMethods._isIArea.call(this, e);\n\n      if (data.corner && flipMethods._foldingPage.call(this)) {\n        this.trigger('pressed', [data.point]);\n\n        flipMethods._showFoldedPage.call(this, data.corner);\n\n        return false;\n      } else data.corner = null;\n    }\n  },\n  _eventMove: function _eventMove(e) {\n    var data = this.data().f;\n\n    if (!data.disabled) {\n      e = isTouch ? e.originalEvent.touches : [e];\n\n      if (data.corner) {\n        var pos = data.parent.offset();\n        data.corner.x = e[0].pageX - pos.left;\n        data.corner.y = e[0].pageY - pos.top;\n\n        flipMethods._showFoldedPage.call(this, data.corner);\n      } else if (data.hover && !this.data().effect && this.is(':visible')) {\n        var point = flipMethods._isIArea.call(this, e[0]);\n\n        if (point) {\n          if (data.effect == 'sheet' && point.corner.length == 2 || data.effect == 'hard') {\n            data.status = 'hover';\n\n            var origin = flipMethods._c.call(this, point.corner, data.opts.cornerSize / 2);\n\n            point.x = origin.x;\n            point.y = origin.y;\n\n            flipMethods._showFoldedPage.call(this, point, true);\n          }\n        } else {\n          if (data.status == 'hover') {\n            data.status = '';\n            flipMethods.hideFoldedPage.call(this, true);\n          }\n        }\n      }\n    }\n  },\n  _eventEnd: function _eventEnd() {\n    var data = this.data().f,\n        corner = data.corner;\n\n    if (!data.disabled && corner) {\n      if (trigger('released', this, [data.point || corner]) != 'prevented') {\n        flipMethods.hideFoldedPage.call(this, true);\n      }\n    }\n\n    data.corner = null;\n  },\n  disable: function disable(_disable2) {\n    flipMethods.setData.call(this, {\n      'disabled': _disable2\n    });\n    return this;\n  },\n  hover: function hover(_hover) {\n    flipMethods.setData.call(this, {\n      'hover': _hover\n    });\n    return this;\n  },\n  peel: function peel(corner, animate) {\n    var data = this.data().f;\n\n    if (corner) {\n      if ($.inArray(corner, corners.all) == -1) throw turnError('Corner ' + corner + ' is not permitted');\n\n      if ($.inArray(corner, flipMethods._cAllowed.call(this)) != -1) {\n        var point = flipMethods._c.call(this, corner, data.opts.cornerSize / 2);\n\n        data.status = 'peel';\n\n        flipMethods._showFoldedPage.call(this, {\n          corner: corner,\n          x: point.x,\n          y: point.y\n        }, animate);\n      }\n    } else {\n      data.status = '';\n      flipMethods.hideFoldedPage.call(this, animate);\n    }\n\n    return this;\n  }\n}; // Processes classes\n\nfunction dec(that, methods, args) {\n  if (!args[0] || typeof args[0] == 'object') return methods.init.apply(that, args);else if (methods[args[0]]) return methods[args[0]].apply(that, Array.prototype.slice.call(args, 1));else throw turnError(args[0] + ' is not a method or property');\n} // Attributes for a layer\n\n\nfunction divAtt(top, left, zIndex, overf) {\n  return {\n    'css': {\n      position: 'absolute',\n      top: top,\n      left: left,\n      'overflow': overf || 'hidden',\n      zIndex: zIndex || 'auto'\n    }\n  };\n} // Gets a 2D point from a bezier curve of four points\n\n\nfunction bezier(p1, p2, p3, p4, t) {\n  var a = 1 - t,\n      b = a * a * a,\n      c = t * t * t;\n  return point2D(Math.round(b * p1.x + 3 * t * a * a * p2.x + 3 * t * t * a * p3.x + c * p4.x), Math.round(b * p1.y + 3 * t * a * a * p2.y + 3 * t * t * a * p3.y + c * p4.y));\n} // Converts an angle from degrees to radians\n\n\nfunction rad(degrees) {\n  return degrees / 180 * PI;\n} // Converts an angle from radians to degrees\n\n\nfunction deg(radians) {\n  return radians / PI * 180;\n} // Gets a 2D point\n\n\nfunction point2D(x, y) {\n  return {\n    x: x,\n    y: y\n  };\n} // Webkit 534.3 on Android wrongly repaints elements that use overflow:hidden + rotation\n\n\nfunction rotationAvailable() {\n  var parts;\n\n  if (parts = /AppleWebkit\\/([0-9\\.]+)/i.exec(navigator.userAgent)) {\n    var webkitVersion = parseFloat(parts[1]);\n    return webkitVersion > 534.3;\n  } else {\n    return true;\n  }\n} // Returns the traslate value\n\n\nfunction translate(x, y, use3d) {\n  return has3d && use3d ? ' translate3d(' + x + 'px,' + y + 'px, 0px) ' : ' translate(' + x + 'px, ' + y + 'px) ';\n} // Returns the rotation value\n\n\nfunction rotate(degrees) {\n  return ' rotate(' + degrees + 'deg) ';\n} // Checks if a property belongs to an object\n\n\nfunction has(property, object) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n} // Gets the CSS3 vendor prefix\n\n\nfunction getPrefix() {\n  var vendorPrefixes = ['Moz', 'Webkit', 'Khtml', 'O', 'ms'],\n      len = vendorPrefixes.length,\n      vendor = '';\n\n  while (len--) {\n    if (vendorPrefixes[len] + 'Transform' in document.body.style) vendor = '-' + vendorPrefixes[len].toLowerCase() + '-';\n  }\n\n  return vendor;\n} // Detects the transitionEnd Event\n\n\nfunction getTransitionEnd() {\n  var t,\n      el = document.createElement('fakeelement'),\n      transitions = {\n    'transition': 'transitionend',\n    'OTransition': 'oTransitionEnd',\n    'MSTransition': 'transitionend',\n    'MozTransition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd'\n  };\n\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n} // Gradients\n\n\nfunction gradient(obj, p0, p1, colors, numColors) {\n  var j,\n      cols = [];\n\n  if (vendor == '-webkit-') {\n    for (j = 0; j < numColors; j++) {\n      cols.push('color-stop(' + colors[j][0] + ', ' + colors[j][1] + ')');\n    }\n\n    obj.css({\n      'background-image': '-webkit-gradient(linear, ' + p0.x + '% ' + p0.y + '%,' + p1.x + '% ' + p1.y + '%, ' + cols.join(',') + ' )'\n    });\n  } else {\n    p0 = {\n      x: p0.x / 100 * obj.width(),\n      y: p0.y / 100 * obj.height()\n    };\n    p1 = {\n      x: p1.x / 100 * obj.width(),\n      y: p1.y / 100 * obj.height()\n    };\n    var dx = p1.x - p0.x,\n        dy = p1.y - p0.y,\n        angle = Math.atan2(dy, dx),\n        angle2 = angle - Math.PI / 2,\n        diagonal = Math.abs(obj.width() * Math.sin(angle2)) + Math.abs(obj.height() * Math.cos(angle2)),\n        gradientDiagonal = Math.sqrt(dy * dy + dx * dx),\n        corner = point2D(p1.x < p0.x ? obj.width() : 0, p1.y < p0.y ? obj.height() : 0),\n        slope = Math.tan(angle),\n        inverse = -1 / slope,\n        x = (inverse * corner.x - corner.y - slope * p0.x + p0.y) / (inverse - slope),\n        c = {\n      x: x,\n      y: inverse * x - inverse * corner.x + corner.y\n    },\n        segA = Math.sqrt(Math.pow(c.x - p0.x, 2) + Math.pow(c.y - p0.y, 2));\n\n    for (j = 0; j < numColors; j++) {\n      cols.push(' ' + colors[j][1] + ' ' + (segA + gradientDiagonal * colors[j][0]) * 100 / diagonal + '%');\n    }\n\n    obj.css({\n      'background-image': vendor + 'linear-gradient(' + -angle + 'rad,' + cols.join(',') + ')'\n    });\n  }\n} // Triggers an event\n\n\nfunction trigger(eventName, context, args) {\n  var event = $.Event(eventName);\n  context.trigger(event, args);\n  if (event.isDefaultPrevented()) return 'prevented';else if (event.isPropagationStopped()) return 'stopped';else return '';\n} // JS Errors\n\n\nfunction turnError(message) {\n  function TurnJsError(message) {\n    this.name = \"TurnJsError\";\n    this.message = message;\n  }\n\n  TurnJsError.prototype = new Error();\n  TurnJsError.prototype.constructor = TurnJsError;\n  return new TurnJsError(message);\n} // Find the offset of an element ignoring its transformation\n\n\nfunction findPos(obj) {\n  var offset = {\n    top: 0,\n    left: 0\n  };\n\n  do {\n    offset.left += obj.offsetLeft;\n    offset.top += obj.offsetTop;\n  } while (obj = obj.offsetParent);\n\n  return offset;\n} // Checks if there's hard page compatibility\n// IE9 is the only browser that does not support hard pages\n\n\nfunction hasHardPage() {\n  return navigator.userAgent.indexOf('MSIE 9.0') == -1;\n} // Request an animation\n\n\nwindow.requestAnim = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n}(); // Extend $.fn\n\n\n$.extend($.fn, {\n  flip: function flip() {\n    return dec($(this[0]), flipMethods, arguments);\n  },\n  turn: function turn() {\n    return dec($(this[0]), turnMethods, arguments);\n  },\n  transform: function transform(_transform, origin) {\n    var properties = {};\n    if (origin) properties[vendor + 'transform-origin'] = origin;\n    properties[vendor + 'transform'] = _transform;\n    return this.css(properties);\n  },\n  animatef: function animatef(point) {\n    var data = this.data();\n    if (data.effect) data.effect.stop();\n\n    if (point) {\n      if (!point.to.length) point.to = [point.to];\n      if (!point.from.length) point.from = [point.from];\n\n      var diff = [],\n          len = point.to.length,\n          animating = true,\n          that = this,\n          time = new Date().getTime(),\n          frame = function frame() {\n        if (!data.effect || !animating) return;\n        var v = [],\n            timeDiff = Math.min(point.duration, new Date().getTime() - time);\n\n        for (var i = 0; i < len; i++) {\n          v.push(data.effect.easing(1, timeDiff, point.from[i], diff[i], point.duration));\n        }\n\n        point.frame(len == 1 ? v[0] : v);\n\n        if (timeDiff == point.duration) {\n          delete data['effect'];\n          that.data(data);\n          if (point.complete) point.complete();\n        } else {\n          window.requestAnim(frame);\n        }\n      };\n\n      for (var i = 0; i < len; i++) {\n        diff.push(point.to[i] - point.from[i]);\n      }\n\n      data.effect = $.extend({\n        stop: function stop() {\n          animating = false;\n        },\n        easing: function easing(x, t, b, c, data) {\n          return c * Math.sqrt(1 - (t = t / data - 1) * t) + b;\n        }\n      }, point);\n      this.data(data);\n      frame();\n    } else {\n      delete data['effect'];\n    }\n  }\n}); // Export some globals\n\n$.isTouch = isTouch;\n$.mouseEvents = mouseEvents;\n$.cssPrefix = getPrefix;\n$.cssTransitionEnd = getTransitionEnd;\n$.findPos = findPos;"],"sourceRoot":""}